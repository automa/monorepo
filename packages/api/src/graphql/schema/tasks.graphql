type Query {
  tasks(org_id: Int!, filter: TasksFilter): [Task!]!
  task(org_id: Int!, id: Int!): Task!
}

type Mutation {
  taskCreate(org_id: Int!, input: TaskMessageInput!): Task!
}

type Task {
  id: Int!
  title: String!
  is_scheduled: Boolean!
  created_at: DateTime!
  completed_at: DateTime
  is_completed: Boolean!

  org: Org!

  items: [TaskItem!]!
}

input TasksFilter {
  is_scheduled: Boolean
}

enum TaskItemType {
  message
  origin
  repo
  bot
  proposal
}

type TaskItem {
  id: Int!
  type: TaskItemType!
  data: JSON
  created_at: DateTime!

  actor_user: User
  bot: PublicBot
  repo: Repo
}

input TaskMessageInput {
  content: String!
}
