type Query {
  tasks(org_id: Int!): [Task!]!
  task(org_id: Int!, id: Int!): Task!
}

type Mutation {
  taskCreate(org_id: Int!, input: TaskMessageInput!): Task!
}

type Task {
  id: Int!
  title: String!
  created_at: DateTime!
  completed_at: DateTime
  is_completed: Boolean!

  org: Org!
  author: User

  items: [TaskItem!]!
}

enum TaskItemType {
  message
  origin
  pull_request
}

type TaskItem {
  id: Int!
  type: TaskItemType!
  data: JSON
  created_at: DateTime!
}

input TaskMessageInput {
  content: String!
}
